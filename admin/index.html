<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber Admin | MrCharlie</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;700&family=Rajdhani:wght@500;600;700&display=swap"
        rel="stylesheet">

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Styles -->
    <link rel="stylesheet" href="../css/style.css?v=5">
    <link rel="stylesheet" href="css/admin.css?v=5">


</head>

<body>


    <!-- Login Screen -->
    <div id="login-screen" class="login-container">
        <div class="glass-card login-box">
            <h1 class="glitch-text" data-text="SYSTEM ACCESS">SYSTEM ACCESS</h1>
            <p>Nh·∫≠p m√£ k√≠ch ho·∫°t (GitHub Token) ƒë·ªÉ truy c·∫≠p h·ªá th·ªëng.</p>

            <div class="input-group">
                <i class="fa-solid fa-key"></i>
                <input type="password" id="github-token" placeholder="ghp_xxxxxxxxxxxx">
            </div>

            <div class="repo-config">
                <input type="text" id="repo-owner" placeholder="GitHub Username" value="dung2686-hub"
                    title="T√™n t√†i kho·∫£n GitHub c·ªßa b·∫°n">
                <input type="text" id="repo-name" placeholder="Repository Name" value="website-mrcharlie"
                    title="T√™n kho l∆∞u tr·ªØ code">
            </div>
            <p style="font-size: 0.8rem; color: #aaa; margin-top: -10px; margin-bottom: 20px;">
                <i class="fa-solid fa-circle-info"></i> Username & Repo Name (M·∫∑c ƒë·ªãnh ƒë√£ ƒëi·ªÅn ƒë√∫ng cho b·∫°n)
            </p>

            <button id="btn-login" class="btn-tiger btn-full">
                <i class="fa-solid fa-unlock"></i> K√çCH HO·∫†T
            </button>
            <p id="login-msg" class="error-msg"></p>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="dashboard-container hidden">
        <!-- Sidebar -->
        <aside class="sidebar glass-card">
            <div class="logo">ADMIN <span class="text-tiger">CORE</span></div>
            <nav class="menu">
                <button class="menu-item active" onclick="switchTab('products')">
                    <i class="fa-solid fa-box-open"></i> S·∫£n Ph·∫©m
                </button>
                <button class="menu-item" onclick="switchTab('tools')">
                    <i class="fa-solid fa-screwdriver-wrench"></i> C√¥ng C·ª•
                </button>
                <button class="menu-item" onclick="switchTab('contact')">
                    <i class="fa-solid fa-address-card"></i> Li√™n H·ªá
                </button>
                <div class="divider"></div>
                <button class="menu-item logout" onclick="logout()">
                    <i class="fa-solid fa-power-off"></i> Ng·∫Øt K·∫øt N·ªëi
                </button>
            </nav>
        </aside>

        <!-- Content Area -->
        <main class="main-content">
            <!-- Header -->
            <header class="top-bar glass-card">
                <h2 id="page-title">Qu·∫£n L√Ω S·∫£n Ph·∫©m</h2>
                <div class="actions">
                    <div class="search-box">
                        <i class="fa-solid fa-search"></i>
                        <input type="text" id="admin-search" placeholder="T√¨m ki·∫øm...">
                    </div>
                    <button class="btn-tiger sm" onclick="newItem()">
                        <i class="fa-solid fa-plus"></i> Th√™m M·ªõi
                    </button>
                    <button class="btn-tiger sm success" id="btn-save-all" onclick="saveChanges()">
                        <i class="fa-solid fa-save"></i> L∆ØU THAY ƒê·ªîI
                    </button>
                </div>
            </header>

            <!-- List View -->
            <div id="list-view" class="grid-container">
                <!-- Items will be rendered here -->
            </div>

            <!-- Contact View -->
            <div id="contact-view" class="glass-card hidden" style="padding: 30px; margin-top: 20px;">
                <h3 class="text-tiger" style="margin-bottom: 20px;">Th√¥ng Tin Li√™n H·ªá (Ch√¢n Trang & Widget)</h3>

                <form id="contact-form">

                    <!-- Info Group -->
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label>üìù Slogan (C√¢u kh·∫©u hi·ªáu d∆∞·ªõi t√™n th∆∞∆°ng hi·ªáu):</label>
                        <input type="text" name="slogan" placeholder="VD: CHIA S·∫∫ QU√Å TR√åNH...">
                    </div>

                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap: 20px;">

                        <div class="form-group">
                            <label>üìß Email Li√™n H·ªá:</label>
                            <input type="text" name="email">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" name="showFooterEmail" id="chk-email">
                                <label for="chk-email">Hi·ªÉn th·ªã ·ªü Footer</label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>üìû S·ªë ƒêi·ªán Tho·∫°i:</label>
                            <input type="text" name="phone">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" name="showFooterPhone" id="chk-phone">
                                <label for="chk-phone">Hi·ªÉn th·ªã ·ªü Footer</label>
                            </div>
                        </div>

                    </div>

                    <div class="form-group" style="margin-top:20px;">
                        <label>üìç ƒê·ªãa Ch·ªâ:</label>
                        <input type="text" name="address">
                        <div class="checkbox-wrapper">
                            <input type="checkbox" name="showFooterAddress" id="chk-address">
                            <label for="chk-address">Hi·ªÉn th·ªã ·ªü Footer</label>
                        </div>
                    </div>

                    <hr style="border: 0; border-top: 1px solid rgba(255,255,255,0.1); margin: 30px 0;">

                    <h3 class="text-tiger">M·∫°ng X√£ H·ªôi</h3>

                    <!-- Zalo (Special) -->
                    <div class="form-group highlight-box">
                        <label title="Link n√†y s·∫Ω √°p d·ª•ng cho c·∫£ N√∫t Xoay v√† Footer">üîÅ Link Zalo Group (Quan
                            Tr·ªçng):</label>
                        <div style="display:flex; gap:10px;">
                            <i class="fa-solid fa-z"
                                style="padding:10px; background:#fff; color:#0068ff; border-radius:4px; font-weight:bold; font-family:sans-serif;">Z</i>
                            <input type="text" name="zalo" placeholder="https://zalo.me/...">
                        </div>
                        <div class="checkbox-wrapper">
                            <input type="checkbox" name="showFooterZalo" id="chk-zalo">
                            <label for="chk-zalo">Hi·ªÉn th·ªã Icon Zalo ·ªü Footer (Widget V√≤ng Xoay lu√¥n hi·ªán)</label>
                        </div>
                    </div>

                    <!-- Other Socials -->
                    <div style="display:grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-top:20px;">

                        <div class="form-group">
                            <label><i class="fa-brands fa-facebook"></i> Facebook:</label>
                            <input type="text" name="facebook">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" name="showFooterFacebook" id="chk-fb">
                                <label for="chk-fb">Hi·ªán</label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label><i class="fa-brands fa-tiktok"></i> TikTok:</label>
                            <input type="text" name="tiktok">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" name="showFooterTikTok" id="chk-tiktok">
                                <label for="chk-tiktok">Hi·ªán</label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label><i class="fa-brands fa-youtube"></i> YouTube:</label>
                            <input type="text" name="youtube">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" name="showFooterYoutube" id="chk-yt">
                                <label for="chk-yt">Hi·ªán</label>
                            </div>
                        </div>
                    </div>

                </form>
            </div>
        </main>
    </div>

    <!-- Edit Modal -->
    <div id="edit-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Ch·ªânh S·ª≠a</h3>
                <button class="close-btn" onclick="closeModal()"><i class="fa-solid fa-times"></i></button>
            </div>
            <div class="modal-body">
                <form id="edit-form">
                    <div class="form-group">
                        <label>T√™n:</label>
                        <input type="text" name="name" required>
                    </div>
                    <div class="form-group" style="flex-direction:row; align-items:center; gap:10px;">
                        <input type="checkbox" name="isVisible" id="chk-visible"
                            style="width:auto; transform:scale(1.5);">
                        <label for="chk-visible" style="margin:0; cursor:pointer;">Hi·ªÉn th·ªã tr√™n web</label>
                    </div>
                    <div class="form-group">
                        <label>Icon:</label>
                        <div class="icon-input">
                            <input type="file" id="icon-file" accept="image/*" onchange="handleIconUpload(this)"
                                style="display:none;">
                            <button type="button" class="btn-tiger sm"
                                onclick="document.getElementById('icon-file').click()" style="margin-bottom:10px;">
                                <i class="fa-solid fa-upload"></i> Ch·ªçn ·∫¢nh
                            </button>
                            <input type="text" name="icon" placeholder="Ho·∫∑c nh·∫≠p URL ·∫£nh"
                                oninput="previewIcon(this.value)">
                            <div class="icon-preview" id="icon-preview"></div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>C√¥ng D·ª•ng:</label>
                        <textarea name="usage" rows="2"></textarea>
                    </div>
                    <div class="form-group">
                        <label>H·ª£p V·ªõi:</label>
                        <input type="text" name="goodFor">
                    </div>
                    <div class="form-group">
                        <label>Ch√∫ th√≠ch (D∆∞·ªõi n√∫t t·∫£i):</label>
                        <input type="text" name="badFor" placeholder="VD: App c·∫ßn x√°c nh·∫≠n quy·ªÅn qua Zalo">
                    </div>
                    <div class="form-group">
                        <label>Link (Ho·∫∑c Upload File):</label>
                        <div class="input-with-btn" style="display:flex; gap:10px;">
                            <input type="text" name="link" style="flex:1;" placeholder="https://...">
                            <input type="file" id="exe-file" accept=".exe,.zip,.msi,.rar"
                                onchange="handleExeUpload(this)" style="display:none;">
                            <button type="button" class="btn-tiger sm"
                                onclick="document.getElementById('exe-file').click()" title="Upload File Setup">
                                <i class="fa-solid fa-cloud-arrow-up"></i>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-tiger btn-delete" onclick="deleteCurrentItem()">X√≥a</button>
                <button class="btn-tiger" onclick="saveCurrentItem()">X√°c Nh·∫≠n</button>
            </div>
        </div>
    </div>

    <script src="js/github-client.js?v=8"></script>
    <script src="js/app.js?v=8"></script>
</body>

</html>